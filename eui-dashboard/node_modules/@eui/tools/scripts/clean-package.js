'use strict';

const spawn = require('cross-spawn');
const chalk = require('chalk');

const utilsPackages = require('./utils/packages');

const pkgInfo = utilsPackages.getPackage();
const paths = require('../config/paths')(pkgInfo);

console.log('\n\n---------------------------------------------------');
console.log(chalk.cyan('Cleaning package : ', `${pkgInfo.pkg}...`));
console.log('---------------------------------------------------');

spawn.sync('rimraf', [
    paths.pkgDirectory + '/out-tsc',
    paths.pkgDirectory + '/dist/*',
    paths.pkgDirectory + '/src/lib/**/*.js',
    paths.pkgDirectory + '/src/lib/**/*.js.map',
]);

console.log(chalk.green('----> OK'));
