/**
* eUI Corporate Print Stylesheet
* Based on HTML5 Boilerplate v6.x | https://html5boilerplate.com/
*                   Bootstrap 4.x | https://getbootstrap.com/
*                   eUI 3.x & 7.x | http://eui.ecdevops.eu
* See also: https://github.com/h5bp/html5-boilerplate/blob/master/src/css/main.css
* @history:
*              13-12-2018 MWP-865
*              23-08-2018 MWP-414
*              20-06-2018 EUI-383
*              15-06-2018 MWP-298
*              07-06-2018 UXATEC-1508 (initial release)
*/

$debug: false;
@media print {
    *,
    *::before,
    *::after {
        // background: transparent !important;  // avoid in order to enable "background graphics print"
        box-shadow: none !important;
        // color: #000 !important; /* Black prints faster: http://www.sanbeiji.com/archives/953 */
        text-shadow: none !important;
    }

    // Remove links
    a,
    a:visited {
        text-decoration: none;

        &:not(.btn) {
            text-decoration: none;
        }
    }

    // a[href]::after {
    //     content: " (" attr(href) ")";
    // }

    abbr[title]::after {
        content: " (" attr(title) ")";
    }

    // Don't show links that are fragment identifiers or use the `javascript:` pseudo protocol
    // a[href^="#"]::after,
    // a[href^="javascript:"]::after {
    //     content: "";
    // }

    pre {
        white-space: pre-wrap !important;
    }

    // Printing Tables: http://css-discuss.incutio.com/wiki/Printing_Tables
    thead {
        display: table-header-group;    // h5bp.com/t
    }

    img {
        max-width: 100% !important;
    }

    //----------------------------------------
    // PAGE SETTINGS (widow & orphan's lines)
    //----------------------------------------
    @page {
        margin-bottom: 1.5cm;
        margin-top: 1.5cm;
        // size: A4;
    }
    @page :first {
        // first page pseudo-class selector
    }
    @page :left {
        // margin-left: 1cm;
    }
    @page :right {
        // margin-right: 1cm;
    }

    p,
    blockquote,
    h2,
    h3 {
        orphans: 3 !important;  // no orphan line at the bottom
        widows: 3 !important;   // no orphan line at the top
    }

    // Prevent headings from being printed at the bottom of the page
    h1,
    h2,
    h3,
    caption {
        page-break-after: avoid !important;
    }

    // Always start new sections & articles on a new page
    // section,
    // article {
    //     page-break-before: always !important;
    // }

    // Prevent elements from being split up
    // ul,  // Attention! This sets ux-panels to a new page
    tr,
    img,
    pre,
    blockquote,
    figure,
    table,
    .ux-layout-page-header-wrapper,
    // .ux-panel-item,  // do not select!
    .ux-panel-header,
    .ux-progress-circle-wrapper,
    .ux-badge-group {
        page-break-inside: avoid !important;
    }

    //----------------------
    // BOOTSTRAP SPECIFIC
    //----------------------
    .container {
        width: auto;    // Workaround for Safari v8+which uses fixed-width
    }

    .navbar {
        display: none !important;
    }

    .btn,
    .dropup > .btn {
        > .caret {
            border-top-color: #000 !important;
        }
    }

    .label {
        border: 1px solid #000;
    }

    .table {
        border-collapse: collapse !important;

        td,
        th {
            background-color: #fff !important;
        }
    }

    .table-bordered {
        th,
        td {
            border: 1px solid #ddd !important;
        }
    }

    .table-responsive {
        overflow: hidden !important;
    }

    //------------------------
    // eUI COMPONENTS & MISC
    //------------------------

    // Show border
    pre,
    blockquote,
    .btn.btn-secondary,
    .ux-panel-item {
        background-color: #fff !important;
        border: 1px solid #999 !important;
        box-shadow: none !important;
    }

    // ux-modal
    .modal,
    .ux-modal__body,
    .ux-modal__content,
    .modal-open .modal {
        overflow: hidden !important;
    }

    // Modal title customization
    .modal-title.ux-modal__header-title {
        color: #004494;
        font-family: "eui-bold", "Helvetica Neue", Helvetica, sans-serif;
        font-size: 1.5rem;
        font-weight: normal;
        overflow: visible;  // show all text visible (disable ellipsis)
    }

    .modal,
    .ux-modal__dialog,
    .ux-modal--full-screen .ux-modal__content {
        background: #fff !important;
        // height: 100% !important;
        height: auto !important;    // 100vh;
        margin: 0 !important;
        overflow: hidden !important;
        padding: 0;
        visibility: visible !important;
        width: 100% !important;
    }

    //----------------------
    // DISPLAY
    //----------------------

    // Watermark: add every top page content (QR code, logo, etc.)
    // #app-wrapper::after {
    //     content: url(https://chart.googleapis.com/chart?cht=qr&amp;chs=150x150&amp;chl=<?=$_SERVER["SERVER_NAME"].$_SERVER["REQUEST_URI"] ?>&amp;choe=UTF-8);
    //     position: absolute;
    //     right: 0;
    //     top: 0;
    // }

    // Elements to hide
    #app-header,
    #app-footer,
    .ux-layout-header,
    .ux-layout-nav-bar,
    .ux-layout-page-header__actions,
    .sidebar,
    .ux-modal__footer--custom-alignment,
    .modal-header .close,
    .overlay-panel,
    .ux-overlay,
    .ux-layout-footer,
    .ux-layout-footer-action-bar-wrapper,
    .ux-growl,
    .ux-block-document,
    .ux-button,
    .ux-layout-page-header__actions-icons__item,
    .ux-popover,
    .ux-a-toolbar-filter-trigger,
    .d-print-none,
    .fixed-action-btn,
    .ux-carousel-items__arrow,
    .ux-carousel-items__summary-indicators,
    .ux-carousel-items__summary-indicators-item,
    .ux-app-shell__header,
    .ux-app-shell__sidebar,
    .ux-app-shell__nav-bar,
    .ux-app-shell__feedback,
    .ux-app-shell__footer {
        display: none !important;
        visibility: hidden !important;
    }

    // Keep the Breadcrumb from the navbar
    .ux-app-shell__nav-bar {
        background-color: #fff !important;

        .ux-app-shell__nav-bar-actions {
            display: none !important;
            visibility: hidden !important;
        }

        .ux-app-shell__nav-bar-breadcrumb .ux-layout-breadcrumbs .ux-layout-breadcrumbs__item a {
            color: #000 !important;

            > span {
                color: #000 !important;
                overflow: visible;
            }
        }
    }

    // Removing Multimedia elements
    iframe {
        display: none !important;
        height: 0 !important;
        line-height: 0 px !important;
        overflow: hidden !important;
        white-space: nowrap;
        width: 0 !important;
    }

    audio,
    video,
    .embed-youtube,
    .embed-responsive {
        display: none !important;
        height: 0 !important;
        overflow: hidden !important;
        position: absolute !important;
    }

    // Visible elements
    #printSection,
    .ux-layout-page-header__title,
    .ux-layout-page-header__sub-title {
        visibility: visible !important;
    }

    // Elements to print
    body,
    #app-wrapper,
    #main,
    .container,
    .panels,
    .ui-datatable-tablewrapper,
    .ui-datatable--no-borders,
    .ui-datatable,
    .d-print-inline,
    .d-print-inline-block,
    .d-print-block,
    .d-print-table,
    .d-print-table-row,
    .d-print-table-cell,
    .d-print-flex,
    .d-print-inline-flex {
        background-color: #fff !important;
        display: block !important;
        float: none !important;
        margin: auto !important;
        min-height: 100% !important;
        overflow: visible !important;   // Avoid last page to be cut (still bugged on Chrome)
        position: static !important;
        width: 100% !important;

        & .flex-container,
        & .d-flex,
        & .row {
            display: flex !important;
        }
    }

    // Fix margin when Sidebar is off (no margins, no paddings)
    #main-content {
        margin: 0 !important;
        padding: 0 !important;
    }

    // Avoid last page to be cut (sometimes still bugged on Chrome)
    body,
    #main,
    .ux-app-shell__main-content {
        background-color: #fff !important;
        display: block !important;

        // &::after {
        //     color: #eee;
        //     content: '<eof>';
        //     @if ($debug) {
        //         border-top: 3px dashed red;
        //     }
        // }
    }

    // Elements to not truncate (remove ellipsis)
    .ux-layout-page-header-wrapper,
    .ux-layout-page-header,
    .ux-layout-page-header__sub-title,
    .page-sub-title,
    .modal-title.ux-modal__header-title {
        display: block !important;
        margin: 0 !important;
        overflow: visible !important;
        // padding: 0 !important;   // do not touch original padding
        page-break-inside: avoid !important;
        text-overflow: clip;    // removes ellipsis truncation if any
        @if ($debug) {
            border: 1px dashed lime;
        }
    }

    // ux-panels
    .ux-panel-item {
        background-color: #fff !important;
        border: 1px solid #999 !important;
        box-shadow: none !important;

        &::after {
            content: ' ';
            @if ($debug) {
                border-top: 1px dashed fuchsia;
            }
        }
    }

    .ux-panel-content {
        background-color: #fff !important;
        display: block !important;
        height: auto !important;

        // Print scrollable content (MWP-414)
        &--fixed-height,
        &--fixed-height-scrollable {
            height: auto !important;
            overflow-y: visible !important;
            width: 100% !important;

            &[style] {
                height: auto !important;
                max-height: 100% !important;
            }
        }

        &::after {
            content: '';
            @if ($debug) {
                border: 1px dashed blue;
            }
        }
    }

    // landing page
    .ux-t-landing-page {
        & .masthead,
        & .bg-primary,
        > section *, {
            background: #fff !important;
            color: #000 !important;
        }

        hr.light {
            border-color: black !important;
        }
    }

    // Miscellaneous
    * .text-white,
    * .text-faded {
        color: #000 !important;
    }
}
